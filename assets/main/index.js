System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BulletManager.ts","./Sun.ts"],(function(e){"use strict";var t,n,o,i,a,r,s,l,u,c,h,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Collider,l=e.RigidBody,u=e.Vec3,c=e.director,h=e.Component},function(e){p=e.BulletManager},function(e){d=e.Sun}],execute:function(){var g,m,f,y;a._RF.push({},"c6fd1fg3OBKWZQIKuRrrv8j","Bullet",void 0);var M=r.ccclass,v=r.property;e("Bullet",M("Bullet")((f=t((m=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"mass",f,i(t)),o(t,"sunM",y,i(t)),t.maxNum=3,t}n(t,e);var a=t.prototype;return a.start=function(){this.node.getComponent(s).on("onCollisionEnter",this.onCollisionEnter,this)},a.update=function(e){for(var t=this.node.getPosition(),n=this.node.getComponent(l),o=new u(0,0,0),i=this.node.getParent().getComponent(p).getHavenlyBody().children,a=0;a<i.length;a++){var r=i[a],s=this.getForceByNode(t,r);o=o.add(s)}n.applyForce(o)},a.onCollisionEnter=function(e){if(null!==e.otherCollider.node.getComponent(d))this.node.destroy();else if("target"===e.otherCollider.node.name){var t=c.getScene().name;if(t.startsWith("game")){var n=t.replace("game",""),o=Number(n);if(o>=this.maxNum)c.loadScene("gamePass");else{var i="";o<=8?i="00"+(o+1):o<=98&&(i="0"+(o+1)),c.loadScene("game"+i)}}else c.loadScene("main")}},a.getForce=function(e,t){var n=e.x-t.x,o=e.y-t.y,i=e.z-t.z,a=Math.pow(n,2)+Math.pow(o,2)+Math.pow(i,2),r=(n>0?-1:1)*Math.abs(n)*9.8*this.sunM*this.mass/a,s=(o>0?-1:1)*Math.abs(o)*9.8*this.sunM*this.mass/a,l=(i>0?-1:1)*Math.abs(i)*9.8*this.sunM*this.mass/a;return new u(r,s,l)},a.getForceByNode=function(e,t){var n=t.getPosition(),o=t.getComponent(d).M,i=e.x-n.x,a=e.y-n.y,r=e.z-n.z,s=Math.pow(i,2)+Math.pow(a,2)+Math.pow(r,2),l=(i>0?-1:1)*Math.abs(i)*9.8*o*this.mass/s,c=(a>0?-1:1)*Math.abs(a)*9.8*o*this.mass/s,h=(r>0?-1:1)*Math.abs(r)*9.8*o*this.mass/s;return new u(l,c,h)},a.setSpeed=function(e){this.node.getComponent(l).setLinearVelocity(e)},t}(h)).prototype,"mass",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),y=t(m.prototype,"sunM",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),g=m))||g);a._RF.pop()}}}));

System.register("chunks:///_virtual/BulletManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bullet.ts"],(function(e){"use strict";var t,n,i,l,r,a,u,o,s,c,d,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,u=e.EventTarget,o=e.Prefab,s=e.Node,c=e.director,d=e.instantiate,p=e.Vec3,f=e.Component},function(e){h=e.Bullet}],execute:function(){var y,b,g,B,m,_,v,S,w,z;r._RF.push({},"6dad8lZlHhD1Zlfie6sy895","BulletManager",void 0);var D=a.ccclass,E=a.property;new u,e("BulletManager",(y=D("BulletManager"),b=E(o),g=E(s),B=E(s),y((v=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"bullet",v,l(t)),i(t,"player",S,l(t)),i(t,"bulletSpeed",w,l(t)),i(t,"havenlyBody",z,l(t)),t.timeStart=null,t.timeEnd=null,t}n(t,e);var r=t.prototype;return r.start=function(){c.getScene().on("send_bullet_start",this._sendBulletStart,this),c.getScene().on("send_bullet_finish",this._sendBulletEnd,this)},r.update=function(e){},r._sendBulletStart=function(){this.timeStart=new Date},r._sendBulletEnd=function(){this.timeEnd=new Date,this._sendBullet()},r._sendBullet=function(){var e=this.timeEnd.getTime()-this.timeStart.getTime(),t=this.player.getPosition(),n=d(this.bullet);n.setParent(this.node),n.setWorldPosition(t.x,t.y,t.z+8.444),n.getComponent(h).setSpeed(new p(0,0,-this.bulletSpeed*e*.01))},r.getHavenlyBody=function(){return this.havenlyBody},t}(f)).prototype,"bullet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(_.prototype,"player",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(_.prototype,"bulletSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=t(_.prototype,"havenlyBody",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=_))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,a=t.Component}],execute:function(){var o;n._RF.push({},"9c0e8tKOaxEGZECvB9BKs5t","GameManager",void 0);var c=r.ccclass;r.property,t("GameManager",c("GameManager")(o=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Bullet.ts","./BulletManager.ts","./GameManager.ts","./MainCanvas.ts","./PlayerController.ts","./Sun.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,a,e,r,o;return{setters:[function(n){t=n.inheritsLoose},function(n){a=n.cclegacy,e=n._decorator,r=n.director,o=n.Component}],execute:function(){var i;a._RF.push({},"4396dzJnxlO/a0krVJYjtoJ","MainCanvas",void 0);var c=e.ccclass;e.property,n("MainCanvas",c("MainCanvas")(i=function(n){function a(){return n.apply(this,arguments)||this}t(a,n);var e=a.prototype;return e.start=function(){},e.update=function(n){},e.onStartBtnClick=function(){r.loadScene("game001")},e.returnMain=function(){r.loadScene("main")},a}(o))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,s,h,l,c,a,r,d,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,l=t.input,c=t.Input,a=t.director,r=t.Animation,d=t.KeyCode,y=t.Component}],execute:function(){var p,u,_;s._RF.push({},"5916e2k/8RNQ6pwgaZnZawx","PlayerController",void 0);var P=h.ccclass,g=h.property;t("PlayerController",P("PlayerController")((_=i((u=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),h=0;h<e;h++)s[h]=arguments[h];return i=t.call.apply(t,[this].concat(s))||this,n(i,"playerSpeed",_,o(i)),i.child=null,i.childPosition=null,i.childScale=null,i.anim=null,i.isPlaying=!1,i.touchStart=null,i.toucheEnd=null,i}e(i,t);var s=i.prototype;return s.start=function(){l.on(c.EventType.KEY_DOWN,this._keyDown,this),l.on(c.EventType.KEY_PRESSING,this._keyPressing,this),l.on(c.EventType.KEY_UP,this._keyUp,this),l.on(c.EventType.TOUCH_MOVE,this._touchMove,this),l.on(c.EventType.TOUCH_START,this._touchStart,this),l.on(c.EventType.TOUCH_END,this._touchEnd,this),this.child=this.node.getChildByName("Capsule")},s.update=function(t){},s._touchStart=function(t){},s._touchEnd=function(t){this.isPlaying&&(a.getScene().emit("send_bullet_finish"),this.anim=this.child.getComponent(r),this.anim.stop(),this.child.setPosition(this.childPosition),this.child.setScale(this.childScale),this.isPlaying=!1)},s._touchMove=function(t){var i=this.node.getPosition(),e=t.getDelta();e.y<-2?this.isPlaying||(a.getScene().emit("send_bullet_start"),this.childPosition=this.child.getPosition(),this.childScale=this.child.getScale(),this.anim=this.child.getComponent(r),this.anim.play(),this.isPlaying=!0):this.node.setPosition(i.x+.02*e.x,i.y,i.z)},s._keyDown=function(t){var i=this.node.getPosition();t.keyCode==d.KEY_A?this.node.setPosition(i.x-this.playerSpeed,i.y,i.z):t.keyCode==d.KEY_D?this.node.setPosition(i.x+this.playerSpeed,i.y,i.z):t.keyCode==d.SPACE&&(a.getScene().emit("send_bullet_start"),this.childPosition=this.child.getPosition(),this.childScale=this.child.getScale(),this.anim=this.child.getComponent(r),this.anim.play())},s._keyPressing=function(t){var i=this.node.getPosition();t.keyCode==d.KEY_A?this.node.setPosition(i.x-this.playerSpeed,i.y,i.z):t.keyCode==d.KEY_D&&this.node.setPosition(i.x+this.playerSpeed,i.y,i.z)},s._keyUp=function(t){t.keyCode==d.SPACE&&(a.getScene().emit("send_bullet_finish"),this.anim=this.child.getComponent(r),this.anim.stop(),this.child.setPosition(this.childPosition),this.child.setScale(this.childScale))},s.onDestroy=function(){l.off(c.EventType.KEY_DOWN,this._keyDown,this)},i}(y)).prototype,"playerSpeed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=u))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/Sun.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,o,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,u=t.Component}],execute:function(){var a,s,l;o._RF.push({},"9bd29eqI2lBT58sVVThNywZ","Sun",void 0);var p=c.ccclass,f=c.property;t("Sun",p("Sun")((l=e((s=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(e,"M",l,i(e)),e}r(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},e}(u)).prototype,"M",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),a=s))||a);o._RF.pop()}}}));
